"use strict";var t=require("$:/plugins/tiddlywiki/codemirror-6/lib/lezer-common.js"),e=require("$:/plugins/tiddlywiki/codemirror-6/lib/lezer-highlight.js"),s=require("$:/plugins/tiddlywiki/codemirror-6/lib/codemirror-language.js");class i{constructor(t,e,s,i,n,r,o,a,h,O=0,c){this.p=t,this.stack=e,this.state=s,this.reducePos=i,this.pos=n,this.score=r,this.buffer=o,this.bufferBase=a,this.curContext=h,this.lookAhead=O,this.parent=c}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,s=0){let r=t.parser.context;return new i(t,[],e,s,s,0,[],0,r?new n(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let s=t>>19,i=65535&t,{parser:n}=this.p,r=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=n.dynamicPrecedence(i);if(o&&(this.score+=o),0==s)return this.pushState(n.getGoto(this.state,i,!0),this.reducePos),i<n.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,r?8:4,!0),void this.reduceContext(i,this.reducePos);let a=this.stack.length-3*(s-1)-(262144&t?6:0),h=a?this.stack[a-2]:this.p.ranges[0].from,O=this.reducePos-h;O>=2e3&&!(null===(e=this.p.parser.nodeSet.types[i])||void 0===e?void 0:e.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=O):this.p.lastBigReductionSize<O&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=O));let c=a?this.stack[a-1]:0,l=this.bufferBase+this.buffer.length-c;if(i<n.minRepeatTerm||131072&t){let t=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,t,l+4,!0)}if(262144&t)this.state=this.stack[a];else{let t=this.stack[a-3];this.state=n.getGoto(t,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,h)}storeNode(t,e,s,i=4,n=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let t=this,i=this.buffer.length;if(0==i&&t.parent&&(i=t.bufferBase-t.parent.bufferBase,t=t.parent),i>0&&0==t.buffer[i-4]&&t.buffer[i-1]>-1){if(e==s)return;if(t.buffer[i-2]>=e)return void(t.buffer[i-2]=s)}}if(n&&this.pos!=s){let n=this.buffer.length;if(n>0&&(0!=this.buffer[n-4]||this.buffer[n-1]<0)){let t=!1;for(let e=n;e>0&&this.buffer[e-2]>s;e-=4)if(this.buffer[e-1]>=0){t=!0;break}if(t)for(;n>0&&this.buffer[n-2]>s;)this.buffer[n]=this.buffer[n-4],this.buffer[n+1]=this.buffer[n-3],this.buffer[n+2]=this.buffer[n-2],this.buffer[n+3]=this.buffer[n-1],n-=4,i>4&&(i-=4)}this.buffer[n]=t,this.buffer[n+1]=e,this.buffer[n+2]=s,this.buffer[n+3]=i}else this.buffer.push(t,e,s,i)}shift(t,e,s,i){if(131072&t)this.pushState(65535&t,this.pos);else if(262144&t)this.pos=i,this.shiftContext(e,s),e<=this.p.parser.maxNode&&this.buffer.push(e,s,i,4);else{let n=t,{parser:r}=this.p;this.pos=i,!r.stateFlag(n,1)&&(i>s||e<=r.maxNode)&&(this.reducePos=i),this.pushState(n,Math.min(s,this.reducePos)),this.shiftContext(e,s),e<=r.maxNode&&this.buffer.push(e,s,i,4)}}apply(t,e,s,i){65536&t?this.reduce(t):this.shift(t,e,s,i)}useNode(t,e){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=t)&&(this.p.reused.push(t),s++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(e,i),this.buffer.push(s,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let s=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new i(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let s=t<=this.p.parser.maxNode;s&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,s?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new r(this);;){let s=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==s)return!1;if(!(65536&s))return!0;e.reduce(s)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let s=[];for(let i,n=0;n<e.length;n+=2)(i=e[n+1])!=this.state&&this.p.parser.hasAction(i,t)&&s.push(e[n],i);if(this.stack.length<120)for(let t=0;s.length<8&&t<e.length;t+=2){let i=e[t+1];s.some((t,e)=>1&e&&t==i)||s.push(e[t],i)}e=s}let s=[];for(let t=0;t<e.length&&s.length<4;t+=2){let i=e[t+1];if(i==this.state)continue;let n=this.split();n.pushState(i,this.pos),n.storeNode(0,n.pos,n.pos,4,!0),n.shiftContext(e[t],this.pos),n.reducePos=this.pos,n.score-=200,s.push(n)}return s}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(65536&e))return!1;if(!t.validAction(this.state,e)){let s=e>>19,i=65535&e,n=this.stack.length-3*s;if(n<0||t.getGoto(this.stack[n],i,!1)<0){let t=this.findForcedReduction();if(null==t)return!1;e=t}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],s=(i,n)=>{if(!e.includes(i))return e.push(i),t.allActions(i,e=>{if(393216&e);else if(65536&e){let s=(e>>19)-n;if(s>1){let i=65535&e,n=this.stack.length-3*s;if(n>=0&&t.getGoto(this.stack[n],i,!1)>=0)return s<<19|65536|i}}else{let t=s(e,n+1);if(null!=t)return t}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new n(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){return!(t<=this.lookAhead)&&(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class n{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class r{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,s=t>>19;0==s?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(s-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=i}}class o{constructor(t,e,s){this.stack=t,this.pos=e,this.index=s,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new o(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new o(this.stack,this.pos,this.index)}}function a(t,e=Uint16Array){if("string"!=typeof t)return t;let s=null;for(let i=0,n=0;i<t.length;){let r=0;for(;;){let e=t.charCodeAt(i++),s=!1;if(126==e){r=65535;break}e>=92&&e--,e>=34&&e--;let n=e-32;if(n>=46&&(n-=46,s=!0),r+=n,s)break;r*=46}s?s[n++]=r:s=new e(r)}return s}class h{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const O=new h;class c{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=O,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let s=this.range,i=this.rangeIndex,n=this.pos+t;for(;n<s.from;){if(!i)return null;let t=this.ranges[--i];n-=s.from-t.to,s=t}for(;e<0?n>s.to:n>=s.to;){if(i==this.ranges.length-1)return null;let t=this.ranges[++i];n+=t.from-s.to,s=t}return n}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e,s,i=this.chunkOff+t;if(i>=0&&i<this.chunk.length)e=this.pos+t,s=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(t,1);if(null==i)return-1;if(e=i,e>=this.chunk2Pos&&e<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(e-this.chunk2Pos);else{let t=this.rangeIndex,i=this.range;for(;i.to<=e;)i=this.ranges[++t];this.chunk2=this.input.chunk(this.chunk2Pos=e),e+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-e)),s=this.chunk2.charCodeAt(0)}}return e>=this.token.lookAhead&&(this.token.lookAhead=e+1),s}acceptToken(t,e=0){let s=e?this.resolveOffset(e,-1):this.pos;if(null==s||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=s}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=O,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let s="";for(let i of this.ranges){if(i.from>=e)break;i.to>t&&(s+=this.input.read(Math.max(i.from,t),Math.min(i.to,e)))}return s}}class l{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:s}=e.p;!function(t,e,s,i,n,r){let o=0,a=1<<i,{dialect:h}=s.p.parser;t:for(;0!=(a&t[o]);){let s=t[o+1];for(let i=o+3;i<s;i+=2)if((t[i+1]&a)>0){let s=t[i];if(h.allows(s)&&(-1==e.token.value||e.token.value==s||p(s,e.token.value,n,r))){e.acceptToken(s);break}}let i=e.next,O=0,c=t[o+2];if(!(e.next<0&&c>O&&65535==t[s+3*c-3])){for(;O<c;){let n=O+c>>1,r=s+n+(n<<1),a=t[r],h=t[r+1]||65536;if(i<a)c=n;else{if(!(i>=h)){o=t[r+2],e.advance();continue t}O=n+1}}break}o=t[s+3*c-1]}}(this.data,t,e,this.id,s.data,s.tokenPrecTable)}}l.prototype.contextual=l.prototype.fallback=l.prototype.extend=!1,l.prototype.fallback=l.prototype.extend=!1;class u{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function f(t,e,s){for(let i,n=e;65535!=(i=t[n]);n++)if(i==s)return n-e;return-1}function p(t,e,s,i){let n=f(s,i,e);return n<0||f(s,i,t)<n}const d="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let k=null;function g(e,s,i){let n=e.cursor(t.IterMode.IncludeAnonymous);for(n.moveTo(s);;)if(!(i<0?n.childBefore(s):n.childAfter(s)))for(;;){if((i<0?n.to<s:n.from>s)&&!n.type.isError)return i<0?Math.max(0,Math.min(n.to-1,s-25)):Math.min(e.length,Math.max(n.from+1,s+25));if(i<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return i<0?0:e.length}}class P{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?g(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?g(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let s=this.trees.length-1;if(s<0)return this.nextFragment(),null;let i=this.trees[s],n=this.index[s];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=i.children[n],o=this.start[s]+i.positions[n];if(o>e)return this.nextStart=o,null;if(r instanceof t.Tree){if(o==e){if(o<this.safeFrom)return null;let e=o+r.length;if(e<=this.safeTo){let s=r.prop(t.NodeProp.lookAhead);if(!s||e+s<this.fragment.to)return r}}this.index[s]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[s]++,this.nextStart=o+r.length}}}class Q{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(t=>new h)}getActions(t){let e=0,s=null,{parser:i}=t.p,{tokenizers:n}=i,r=i.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,a=0;for(let i=0;i<n.length;i++){if(!(1<<i&r))continue;let h=n[i],O=this.tokens[i];if((!s||h.fallback)&&((h.contextual||O.start!=t.pos||O.mask!=r||O.context!=o)&&(this.updateCachedToken(O,h,t),O.mask=r,O.context=o),O.lookAhead>O.end+25&&(a=Math.max(O.lookAhead,a)),0!=O.value)){let i=e;if(O.extended>-1&&(e=this.addActions(t,O.extended,O.end,e)),e=this.addActions(t,O.value,O.end,e),!h.extend&&(s=O,e>i))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),s||t.pos!=this.stream.end||(s=new h,s.value=t.p.parser.eofTerm,s.start=s.end=t.pos,e=this.addActions(t,s.value,s.end,e)),this.mainToken=s,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new h,{pos:s,p:i}=t;return e.start=s,e.end=Math.min(s+1,i.stream.end),e.value=s==i.stream.end?i.parser.eofTerm:0,e}updateCachedToken(t,e,s){let i=this.stream.clipPos(s.pos);if(e.token(this.stream.reset(i,t),s),t.value>-1){let{parser:e}=s.p;for(let i=0;i<e.specialized.length;i++)if(e.specialized[i]==t.value){let n=e.specializers[i](this.stream.read(t.start,t.end),s);if(n>=0&&s.p.parser.dialect.allows(n>>1)){1&n?t.extended=n>>1:t.value=n>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,e,s,i){for(let e=0;e<i;e+=3)if(this.actions[e]==t)return i;return this.actions[i++]=t,this.actions[i++]=e,this.actions[i++]=s,i}addActions(t,e,s,i){let{state:n}=t,{parser:r}=t.p,{data:o}=r;for(let t=0;t<2;t++)for(let a=r.stateSlot(n,t?2:1);;a+=3){if(65535==o[a]){if(1!=o[a+1]){0==i&&2==o[a+1]&&(i=this.putAction(X(o,a+2),e,s,i));break}a=X(o,a+2)}o[a]==e&&(i=this.putAction(X(o,a+1),e,s,i))}return i}}class m{constructor(t,e,s,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new c(e,n),this.tokens=new Q(t,this.stream),this.topTerm=t.top[1];let{from:r}=n[0];this.stacks=[i.start(this,t.top[0],r)],this.fragments=s.length&&this.stream.end-r>4*t.bufferLength?new P(s,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t,e,s=this.stacks,i=this.minStackPos,n=this.stacks=[];if(this.bigReductionCount>300&&1==s.length){let[t]=s;for(;t.forceReduce()&&t.stack.length&&t.stack[t.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<s.length;r++){let o=s[r];for(;;){if(this.tokens.mainToken=null,o.pos>i)n.push(o);else{if(this.advanceStack(o,n,s))continue;{t||(t=[],e=[]),t.push(o);let s=this.tokens.getMainToken(o);e.push(s.value,s.end)}}break}}if(!n.length){let e=t&&function(t){let e=null;for(let s of t){let t=s.p.stoppedAt;(s.pos==s.p.stream.end||null!=t&&s.pos>t)&&s.p.parser.stateFlag(s.state,2)&&(!e||e.score<s.score)&&(e=s)}return e}(t);if(e)return d&&console.log("Finish with "+this.stackID(e)),this.stackToTree(e);if(this.parser.strict)throw d&&t&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&t){let s=null!=this.stoppedAt&&t[0].pos>this.stoppedAt?t[0]:this.runRecovery(t,e,n);if(s)return d&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let t=1==this.recovering?1:3*this.recovering;if(n.length>t)for(n.sort((t,e)=>e.score-t.score);n.length>t;)n.pop();n.some(t=>t.reducePos>i)&&this.recovering--}else if(n.length>1){t:for(let t=0;t<n.length-1;t++){let e=n[t];for(let s=t+1;s<n.length;s++){let i=n[s];if(e.sameState(i)||e.buffer.length>500&&i.buffer.length>500){if(!((e.score-i.score||e.buffer.length-i.buffer.length)>0)){n.splice(t--,1);continue t}n.splice(s--,1)}}}n.length>12&&(n.sort((t,e)=>e.score-t.score),n.splice(12,n.length-12))}this.minStackPos=n[0].pos;for(let t=1;t<n.length;t++)n[t].pos<this.minStackPos&&(this.minStackPos=n[t].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(e,s,i){let n=e.pos,{parser:r}=this,o=d?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let s=e.curContext&&e.curContext.tracker.strict,i=s?e.curContext.hash:0;for(let a=this.fragments.nodeAt(n);a;){let n=this.parser.nodeSet.types[a.type.id]==a.type?r.getGoto(e.state,a.type.id):-1;if(n>-1&&a.length&&(!s||(a.prop(t.NodeProp.contextHash)||0)==i))return e.useNode(a,n),d&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(a.type.id)})`),!0;if(!(a instanceof t.Tree)||0==a.children.length||a.positions[0]>0)break;let h=a.children[0];if(!(h instanceof t.Tree&&0==a.positions[0]))break;a=h}}let a=r.stateSlot(e.state,4);if(a>0)return e.reduce(a),d&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(65535&a)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let t=0;t<h.length;){let a=h[t++],O=h[t++],c=h[t++],l=t==h.length||!i,u=l?e:e.split(),f=this.tokens.mainToken;if(u.apply(a,O,f?f.start:u.pos,c),d&&console.log(o+this.stackID(u)+` (via ${65536&a?`reduce of ${r.getName(65535&a)}`:"shift"} for ${r.getName(O)} @ ${n}${u==e?"":", split"})`),l)return!0;u.pos>n?s.push(u):i.push(u)}return!1}advanceFully(t,e){let s=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>s)return x(t,e),!0}}runRecovery(t,e,s){let i=null,n=!1;for(let r=0;r<t.length;r++){let o=t[r],a=e[r<<1],h=e[1+(r<<1)],O=d?this.stackID(o)+" -> ":"";if(o.deadEnd){if(n)continue;if(n=!0,o.restart(),d&&console.log(O+this.stackID(o)+" (restarted)"),this.advanceFully(o,s))continue}let c=o.split(),l=O;for(let t=0;t<10&&c.forceReduce();t++){if(d&&console.log(l+this.stackID(c)+" (via force-reduce)"),this.advanceFully(c,s))break;d&&(l=this.stackID(c)+" -> ")}for(let t of o.recoverByInsert(a))d&&console.log(O+this.stackID(t)+" (via recover-insert)"),this.advanceFully(t,s);this.stream.end>o.pos?(h==o.pos&&(h++,a=0),o.recoverByDelete(a,h),d&&console.log(O+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),x(o,s)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),t.Tree.build({buffer:o.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(k||(k=new WeakMap)).get(t);return e||k.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function x(t,e){for(let s=0;s<e.length;s++){let i=e[s];if(i.pos==t.pos&&i.sameState(t))return void(e[s].score<t.score&&(e[s]=t))}e.push(t)}class b{constructor(t,e,s){this.source=t,this.flags=e,this.disabled=s}allows(t){return!this.disabled||0==this.disabled[t]}}const S=t=>t;class R extends t.Parser{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let s=e.nodeNames.split(" ");this.minRepeatTerm=s.length;for(let t=0;t<e.repeatNodeCount;t++)s.push("");let i=Object.keys(e.topRules).map(t=>e.topRules[t][1]),n=[];for(let t=0;t<s.length;t++)n.push([]);function r(t,e,s){n[t].push([e,e.deserialize(String(s))])}if(e.nodeProps)for(let s of e.nodeProps){let e=s[0];"string"==typeof e&&(e=t.NodeProp[e]);for(let t=1;t<s.length;){let i=s[t++];if(i>=0)r(i,e,s[t++]);else{let n=s[t+-i];for(let o=-i;o>0;o--)r(s[t++],e,n);t++}}}this.nodeSet=new t.NodeSet(s.map((s,r)=>t.NodeType.define({name:r>=this.minRepeatTerm?void 0:s,id:r,props:n[r],top:i.indexOf(r)>-1,error:0==r,skipped:e.skippedNodes&&e.skippedNodes.indexOf(r)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=t.DefaultBufferLength;let o=a(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let t=0;t<this.specializerSpecs.length;t++)this.specialized[t]=this.specializerSpecs[t].term;this.specializers=this.specializerSpecs.map(v),this.states=a(e.states,Uint32Array),this.data=a(e.stateData),this.goto=a(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(t=>"number"==typeof t?new l(o,t):t),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,s){let i=new m(this,t,e,s);for(let n of this.wrappers)i=n(i,t,e,s);return i}getGoto(t,e,s=!1){let i=this.goto;if(e>=i[0])return-1;for(let n=i[e+1];;){let e=i[n++],r=1&e,o=i[n++];if(r&&s)return o;for(let s=n+(e>>1);n<s;n++)if(i[n]==t)return o;if(r)return-1}}hasAction(t,e){let s=this.data;for(let i=0;i<2;i++)for(let n,r=this.stateSlot(t,i?2:1);;r+=3){if(65535==(n=s[r])){if(1!=s[r+1]){if(2==s[r+1])return X(s,r+2);break}n=s[r=X(s,r+2)]}if(n==e||0==n)return X(s,r+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,t=>t==e||null)}allActions(t,e){let s=this.stateSlot(t,4),i=s?e(s):void 0;for(let s=this.stateSlot(t,1);null==i;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=X(this.data,s+2)}i=e(X(this.data,s+1))}return i}nextStates(t){let e=[];for(let s=this.stateSlot(t,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=X(this.data,s+2)}if(!(1&this.data[s+2])){let t=this.data[s+1];e.some((e,s)=>1&s&&e==t)||e.push(this.data[s],t)}}return e}configure(t){let e=Object.assign(Object.create(R.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let s=this.topRules[t.top];if(!s)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=s}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(e=>{let s=t.tokenizers.find(t=>t.from==e);return s?s.to:e})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((s,i)=>{let n=t.specializers.find(t=>t.from==s.external);if(!n)return s;let r=Object.assign(Object.assign({},s),{external:n.to});return e.specializers[i]=v(r),r})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),s=e.map(()=>!1);if(t)for(let i of t.split(" ")){let t=e.indexOf(i);t>=0&&(s[t]=!0)}let i=null;for(let t=0;t<e.length;t++)if(!s[t])for(let s,n=this.dialects[e[t]];65535!=(s=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new b(t,s,i)}static deserialize(t){return new R(t)}}function X(t,e){return t[e]|t[e+1]<<16}function v(t){if(t.external){let e=t.extend?1:0;return(s,i)=>t.external(s,i)<<1|e}return t.get}const T=63;class y{constructor(t,e,s){this.parent=t,this.depth=e,this.type=s,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+s}}function $(t,e){for(let s=0,i=e-t.pos-1;;i--,s++){let e=t.peek(i);if(D(e)||-1==e)return s}}function C(t){return 32==t||9==t}function D(t){return 10==t||13==t}function w(t){return C(t)||D(t)}function z(t){return t<0||w(t)}y.top=new y(null,-1,0);const A=new class{constructor(t){this.start=t.start,this.shift=t.shift||S,this.reduce=t.reduce||S,this.reuse=t.reuse||S,this.hash=t.hash||(()=>0),this.strict=!1!==t.strict}}({start:y.top,reduce:(t,e)=>3!=t.type||20!=e&&34!=e?t:t.parent,shift(t,e,s,i){if(3==e)return new y(t,$(i,i.pos),1);if(65==e||5==e)return new y(t,$(i,i.pos),2);if(e==T)return t.parent;if(19==e||33==e)return new y(t,0,3);if(13==e&&4==t.type)return t.parent;if(47==e){let e=/[1-9]/.exec(i.read(i.pos,s.pos));if(e)return new y(t,t.depth+ +e[0],4)}return t},hash:t=>t.hash});function Y(t,e,s=0){return t.peek(s)==e&&t.peek(s+1)==e&&t.peek(s+2)==e&&z(t.peek(s+3))}const q=new u((t,e)=>{if(-1==t.next&&e.canShift(64))return t.acceptToken(64);let s=t.peek(-1);if((D(s)||s<0)&&3!=e.context.type){if(Y(t,45)){if(!e.canShift(T))return t.acceptToken(1,3);t.acceptToken(T)}if(Y(t,46)){if(!e.canShift(T))return t.acceptToken(2,3);t.acceptToken(T)}let s=0;for(;32==t.next;)s++,t.advance();!(s<e.context.depth)&&(s!=e.context.depth||1!=e.context.type||45==t.next&&z(t.peek(1)))||-1==t.next||D(t.next)||35==t.next||t.acceptToken(T,-s)}},{contextual:!0}),U=new u((t,e)=>{if(3!=e.context.type)if(45==t.next)t.advance(),z(t.next)&&t.acceptToken(1==e.context.type&&e.context.depth==$(t,t.pos-1)?4:3);else if(63==t.next)t.advance(),z(t.next)&&t.acceptToken(2==e.context.type&&e.context.depth==$(t,t.pos-1)?6:5);else{let s=t.pos;for(;;)if(C(t.next)){if(t.pos==s)return;t.advance()}else if(33==t.next)Z(t);else{if(38!=t.next){if(42==t.next){G(t);break}if(39==t.next||34==t.next){if(B(t,!0))break;return}if(91==t.next||123==t.next){if(!V(t))return;break}F(t,!0,!1,0);break}G(t)}for(;C(t.next);)t.advance();if(58==t.next){if(t.pos==s&&e.canShift(29))return;z(t.peek(1))&&t.acceptTokenTo(2==e.context.type&&e.context.depth==$(t,s)?66:65,s)}}else 63==t.next&&(t.advance(),z(t.next)&&t.acceptToken(7))},{contextual:!0});function W(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function N(t,e){return 37==t.next?(t.advance(),W(t.next)&&t.advance(),W(t.next)&&t.advance(),!0):!!((s=t.next)>32&&s<127&&34!=s&&37!=s&&44!=s&&60!=s&&62!=s&&92!=s&&94!=s&&96!=s&&123!=s&&124!=s&&125!=s||e&&44==t.next)&&(t.advance(),!0);var s}function Z(t){if(t.advance(),60==t.next){for(t.advance();;)if(!N(t,!0)){62==t.next&&t.advance();break}}else for(;N(t,!1););}function G(t){for(t.advance();!z(t.next)&&"f"!=I(t.tag);)t.advance()}function B(t,e){let s=t.next,i=!1,n=t.pos;for(t.advance();;){let r=t.next;if(r<0)break;if(t.advance(),r==s){if(39!=r)break;if(39!=t.next)break;t.advance()}else if(92==r&&34==s)t.next>=0&&t.advance();else if(D(r)){if(e)return!1;i=!0}else if(e&&t.pos>=n+1024)return!1}return!i}function V(t){for(let e=[],s=t.pos+1024;;)if(91==t.next||123==t.next)e.push(t.next),t.advance();else if(39==t.next||34==t.next){if(!B(t,!0))return!1}else if(93==t.next||125==t.next){if(e[e.length-1]!=t.next-2)return!1;if(e.pop(),t.advance(),!e.length)return!0}else{if(t.next<0||t.pos>s||D(t.next))return!1;t.advance()}}const L="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function I(t){return t<33?"u":t>125?"s":L[t-33]}function _(t,e){let s=I(t);return"u"!=s&&!(e&&"f"==s)}function F(t,e,s,i){if("s"!=I(t.next)&&(63!=t.next&&58!=t.next&&45!=t.next||!_(t.peek(1),s)))return!1;t.advance();let n=t.pos;for(;;){let r=t.next,o=0,a=i+1;for(;w(r);){if(D(r)){if(e)return!1;a=0}else a++;r=t.peek(++o)}if(!(r>=0&&(58==r?_(t.peek(o+1),s):35==r?32!=t.peek(o-1):_(r,s)))||!s&&a<=i||0==a&&!s&&(Y(t,45,o)||Y(t,46,o)))break;if(e&&"f"==I(r))return!1;for(let e=o;e>=0;e--)t.advance();if(e&&t.pos>n+1024)return!1}return!0}const E=new u((t,e)=>{if(33==t.next)Z(t),t.acceptToken(12);else if(38==t.next||42==t.next){let e=38==t.next?10:11;G(t),t.acceptToken(e)}else 39==t.next||34==t.next?(B(t,!1),t.acceptToken(9)):F(t,!1,3==e.context.type,e.context.depth)&&t.acceptToken(8)}),j=new u((t,e)=>{let s=4==e.context.type?e.context.depth:-1,i=t.pos;t:for(;;){let n=0,r=t.next;for(;32==r;)r=t.peek(++n);if(!n&&(Y(t,45,n)||Y(t,46,n)))break;if(!D(r)&&(s<0&&(s=Math.max(e.context.depth+1,n)),n<s))break;for(;;){if(t.next<0)break t;let e=D(t.next);if(t.advance(),e)continue t;i=t.pos}}t.acceptTokenTo(13,i)}),M=e.styleTags({DirectiveName:e.tags.keyword,DirectiveContent:e.tags.attributeValue,"DirectiveEnd DocEnd":e.tags.meta,QuotedLiteral:e.tags.string,BlockLiteralHeader:e.tags.special(e.tags.string),BlockLiteralContent:e.tags.content,Literal:e.tags.content,"Key/Literal Key/QuotedLiteral":e.tags.definition(e.tags.propertyName),"Anchor Alias":e.tags.labelName,Tag:e.tags.typeName,Comment:e.tags.lineComment,": , -":e.tags.separator,"?":e.tags.punctuation,"[ ]":e.tags.squareBracket,"{ }":e.tags.brace}),H=R.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:"⚠ DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:A,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[M],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[q,U,E,j,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),K=R.deserialize({version:14,states:"!vOQOPOOO]OPO'#C_OhOPO'#C^OOOO'#Cc'#CcOpOPO'#CaQOOOOOO{OPOOOOOO'#Cb'#CbO!WOPO'#C`O!`OPO,58xOOOO-E6a-E6aOOOO-E6`-E6`OOOO'#C_'#C_OOOO1G.d1G.d",stateData:"!h~OXPOYROWTP~OWVXXRXYRX~OYVOXSP~OXROYROWTX~OXROYROWTP~OYVOXSX~OX[O~OXY~",goto:"vWPPX[beioRUOQQOR]XRXQTTOUQWQRZWSSOURYS",nodeNames:"⚠ Document Frontmatter DashLine FrontmatterContent Body",maxTerm:10,skippedNodes:[0],repeatNodeCount:2,tokenData:"$z~RXOYnYZ!^Z]n]^!^^}n}!O!i!O;'Sn;'S;=`!c<%lOn~qXOYnYZ!^Z]n]^!^^;'Sn;'S;=`!c<%l~n~On~~!^~!cOY~~!fP;=`<%ln~!lZOYnYZ!^Z]n]^!^^}n}!O#_!O;'Sn;'S;=`!c<%l~n~On~~!^~#bZOYnYZ!^Z]n]^!^^}n}!O$T!O;'Sn;'S;=`!c<%l~n~On~~!^~$WXOYnYZ$sZ]n]^$s^;'Sn;'S;=`!c<%l~n~On~~$s~$zOX~Y~",tokenizers:[0],topRules:{Document:[0,1]},tokenPrec:67}),J=s.LRLanguage.define({name:"yaml",parser:H.configure({props:[s.indentNodeProp.add({Stream:t=>{for(let e=t.node.resolve(t.pos,-1);e&&e.to>=t.pos;e=e.parent){if("BlockLiteralContent"==e.name&&e.from<e.to)return t.baseIndentFor(e);if("BlockLiteral"==e.name)return t.baseIndentFor(e)+t.unit;if("BlockSequence"==e.name||"BlockMapping"==e.name)return t.column(e.from,1);if("QuotedLiteral"==e.name)return null;if("Literal"==e.name){let s=t.column(e.from,1);if(s==t.lineIndent(e.from,1))return s;if(e.to>t.pos)return null}}return null},FlowMapping:s.delimitedIndent({closing:"}"}),FlowSequence:s.delimitedIndent({closing:"]"})}),s.foldNodeProp.add({"FlowMapping FlowSequence":s.foldInside,"Item Pair BlockLiteral":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});const tt=s.LRLanguage.define({name:"yaml-frontmatter",parser:K.configure({props:[e.styleTags({DashLine:e.tags.meta})]})});exports.yaml=function(){return new s.LanguageSupport(J)},exports.yamlFrontmatter=function(e){let{language:i,support:n}=e.content instanceof s.LanguageSupport?e.content:{language:e.content,support:[]};return new s.LanguageSupport(tt.configure({wrap:t.parseMixed(t=>"FrontmatterContent"==t.name?{parser:J.parser}:"Body"==t.name?{parser:i.parser}:null)}),n)},exports.yamlLanguage=J;
