title: $:/core/ui/PageTemplate/story
tags: $:/tags/PageTemplate

\function tf.story-river.classes() [{$:/state/mediaquery/min-width/sidebarbreakpoint}match[no]then[tc-story-river]] :else[[tc-story-river tc-primary-container]]
\function tf.story-river.tabindex() [{$:/state/mediaquery/min-width/sidebarbreakpoint}match[yes]then[-1]] :else[[]]
\whitespace trim
<section class=<<tf.story-river.classes>> role="main" tabindex=<<tf.story-river.tabindex>>>

<section class="story-backdrop">

<$list filter="[all[shadows+tiddlers]tag[$:/tags/AboveStory]!has[draft.of]]">

<$transclude/>

</$list>

</section>

<$list filter="[list[$:/StoryList]]" history="$:/HistoryList" template="$:/core/ui/StoryTiddlerTemplate" storyview={{$:/view}} emptyMessage={{$:/config/EmptyStoryMessage}}/>

<section class="story-frontdrop">

<$list filter="[all[shadows+tiddlers]tag[$:/tags/BelowStory]!has[draft.of]]">

<$transclude/>

</$list>

</section>

</section>
